using Telegram.Bot;
using Telegram.Bot.Types;

namespace QueueManagerBot
{
    public class InfoCommand : ICommand
    {
        public string Name { get; }
        public TelegramBotClient Bot { get; }
        public UserState[] AllowedStates { get; }
        public StateManager StateManager { get; }

        public InfoCommand(string name, TelegramBotClient tgBot, StateManager stateManager)
        {
            Name = name;
            Bot = tgBot;
            StateManager = stateManager;
            AllowedStates = new UserState[]
            {
                UserState.None,
            };
        }

        public bool CanExecute(Message msg, UserState state)
        {
            return msg.Text == Name && AllowedStates.Contains(state);
        }

        public async Task Execute(Message msg)
        {
            await Bot.SendMessage(msg.Chat, 
                @"üóÇÔ∏è –≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –§–ò–ò–¢–µ: –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, —Å–¥–∞—á—É —Ä–∞–±–æ—Ç –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

‚úÖ –°–æ–∑–¥–∞–≤–∞–π –æ—á–µ—Ä–µ–¥—å ‚Äî –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–≤–µ—Å—Ç–∏ –Ω–æ–≤—É—é –æ—á–µ—Ä–µ–¥—å, —É–∫–∞–∑–∞–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –≤—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∑–∞–ø–∏—Å–∏
‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–π—Å—è –∑–∞ —Å–µ–∫—É–Ω–¥—É ‚Äî –ø—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏ –æ—á–µ—Ä–µ–¥—å –∏ –Ω–∞–∂–º–∏ ¬´–≤ –Ω–∞—á–∞–ª–æ¬ª –∏–ª–∏ ¬´–≤ –∫–æ–Ω–µ—Ü¬ª
‚úÖ –°–ª–µ–¥–∏ –∑–∞ —Å–≤–æ–∏–º –º–µ—Å—Ç–æ–º ‚Äî –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–æ, –∫—Ç–æ –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π –∏ —Å–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –≤–ø–µ—Ä–µ–¥–∏ üëÄ

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1Ô∏è‚É£ –¢—ã —Å–æ–∑–¥–∞—ë—à—å –æ—á–µ—Ä–µ–¥—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–°–¥–∞—á–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ Python¬ª)
2Ô∏è‚É£ –î—Ä—É–≥–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –≤ –Ω–∞—á–∞–ª–æ –∏–ª–∏ –≤ –∫–æ–Ω–µ—Ü üîÑ
3Ô∏è‚É£ –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ üìã

–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
–ß—Ç–æ–±—ã –≤ —Ä–∞–±–æ—á–∏—Ö –∏ —É—á–µ–±–Ω—ã—Ö —á–∞—Ç–∞—Ö –±—ã–ª –ø–æ—Ä—è–¥–æ–∫, –∞ –∑–∞–ø–∏—Å—å –±—ã–ª–∞ –±—ã—Å—Ç—Ä–æ–π –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–π –¥–ª—è –≤—Å–µ—Ö! üéØ

üöÄ QueueManagerBot ‚Äî –ø—Ä–æ—Å—Ç–∞—è –∏ —É–¥–æ–±–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –æ—á–µ—Ä–µ–¥–µ–π");
        }
    }
}